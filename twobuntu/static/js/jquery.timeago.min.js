/* MIT License - http://www.opensource.org/licenses/mit-license.php For usage and examples, visit: http://timeago.yarp.com/ Copyright (c) 2008-2013, Ryan McGeary (ryan -[at]- mcgeary [*dot*] org) */ function n(c){function h(){var a;a=c(this);if(!a.data("timeago")){a.data("timeago",{b:d.b(a)});var b=c.trim(a.text());d.a.j?a.c("title",a.data("timeago").b.toLocaleString()):!(0<b.length)||d.f(a)&&a.c("title")||a.c("title",b)}a=a.data("timeago");b=d.a;isNaN(a.b)||(0==b.i||Math.abs((new Date).getTime()-a.b.getTime())<b.i)&&c(this).text(f(a.b));return this}function f(a){return d.t((new Date).getTime()-a.getTime())}c.d=function(a){return a instanceof Date?f(a):"string"===typeof a?f(c.d.parse(a)):"number"=== typeof a?f(new Date(a)):f(c.d.b(a))};var d=c.d;c.extend(c.d,{a:{l:6E4,h:!0,g:!1,j:!1,i:0,m:{C:null,D:null,G:"ago",H:"from now",s:"any moment now",F:"less than a minute",v:"about a minute",w:"%d minutes",q:"about an hour",r:"about %d hours",o:"a day",p:"%d days",A:"about a month",B:"%d months",I:"about a year",J:"%d years",n:" ",k:[]}},t:function(a){function b(b,d){return(c.O(b)?b(d,a):b).replace(/%d/i,e.k&&e.k[d]||d)}if(!this.a.h&&!this.a.g)throw"timeago allowPast and allowFuture settings can not both be set to false."; var e=this.a.m,d=e.C,f=e.G;this.a.g&&0>a&&(d=e.D,f=e.H);if(!this.a.h&&0<=a)return this.a.m.s;var k=Math.abs(a)/1E3,g=k/60,m=g/60,l=m/24,h=l/365,k=45>k&&b(e.F,Math.round(k))||90>k&&b(e.v,1)||45>g&&b(e.w,Math.round(g))||90>g&&b(e.q,1)||24>m&&b(e.r,Math.round(m))||42>m&&b(e.o,1)||30>l&&b(e.p,Math.round(l))||45>l&&b(e.A,1)||365>l&&b(e.B,Math.round(l/30))||1.5>h&&b(e.I,1)||b(e.J,Math.round(h)),g=e.n||"";void 0===e.n&&(g=" ");return c.trim([d,k,f].join(g))},parse:function(a){a=c.trim(a);a=a.replace(/\.\d+/, "");a=a.replace(/-/,"/").replace(/-/,"/");a=a.replace(/T/," ").replace(/Z/," UTC");a=a.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");a=a.replace(/([\+\-]\d\d)$/," $100");return new Date(a)},b:function(a){a=d.f(a)?c(a).c("datetime"):c(a).c("title");return d.parse(a)},f:function(a){return"time"===c(a).get(0).tagName.toLowerCase()}});var p={u:function(){var a=c.P(h,this);a();var b=d.a;0<b.l&&(this.e=setInterval(a,b.l))},update:function(a){a=d.parse(a);c(this).data("timeago",{b:a});d.a.j&&c(this).c("title", a.toLocaleString());h.apply(this)},Q:function(){c(this).data("timeago",{b:d.parse(d.f(this)?c(this).c("datetime"):c(this).c("title"))});h.apply(this)},L:function(){this.e&&(window.clearInterval(this.e),this.e=null)}};c.N.d=function(a,b){var c=a?p[a]:p.u;if(!c)throw Error("Unknown function name '"+a+"' for timeago");this.M(function(){c.call(this,b)});return this};document.createElement("abbr");document.createElement("time")}"function"===typeof define&&define.K?define(["jquery"],n):n(jQuery);
